@page "/account"
@attribute [Authorize]

@inherits Fluxor.Blazor.Web.Components.FluxorComponent

@if (this.AccountState.Value.IsLoading)
{
  <MudProgressCircular Color="Color.Default" Indeterminate="true" />
}
else if (this.AccountState.Value.Player != null)
{
  var player = this.AccountState.Value.Player!;

  <MudGrid>

    <MudItem xs="6">
      <MudPaper Class="d-flex mud-width-full" Elevation="0">
        <MudText Style="font-weight: bold;" Typo="Typo.body1">Name</MudText>
      </MudPaper>
    </MudItem>
    <MudItem xs="6">
      <MudPaper Class="d-flex mud-width-full" Elevation="0">
        <MudText Typo="Typo.body1">@player.Name</MudText>
      </MudPaper>
    </MudItem>

    <MudItem xs="6">
      <MudPaper Class="d-flex mud-width-full" Elevation="0">
        <MudText Style="font-weight: bold;" Typo="Typo.body1">Email</MudText>
      </MudPaper>
    </MudItem>
    <MudItem xs="6">
      <MudPaper Class="d-flex mud-width-full" Elevation="0">
        <MudText Typo="Typo.body1">@player.Email</MudText>
      </MudPaper>
    </MudItem>

    <MudItem xs="6">
      <MudPaper Class="d-flex mud-width-full" Elevation="0">
        <MudText Style="font-weight: bold;" Typo="Typo.body1">ELO rating</MudText>
      </MudPaper>
    </MudItem>
    <MudItem xs="6">
      <MudPaper Class="d-flex mud-width-full" Elevation="0">
        <MudText Typo="Typo.body1">@player.EloRating</MudText>
      </MudPaper>
    </MudItem>

    <MudItem xs="6">
      <MudPaper Class="d-flex mud-width-full" Elevation="0">
        <MudText Style="font-weight: bold;" Typo="Typo.body1">Show possible moves during the game?</MudText>
      </MudPaper>
    </MudItem>
    <MudItem xs="6">
      <MudPaper Class="d-flex mud-width-full" Elevation="0">
        <MudSwitch T="bool" Color="Color.Primary" Checked="@player.ShowPossibleMoves" CheckedChanged="@this.OnShowPossibleMovesToggled"/>
      </MudPaper>
    </MudItem>

  </MudGrid>
}