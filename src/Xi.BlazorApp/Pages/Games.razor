@page "/games"

@inherits Fluxor.Blazor.Web.Components.FluxorComponent

@if (this.GamesState.Value.IsLoading)
{
  <span>Loading...</span>
}
else if (this.GamesState.Value.HasCurrentErrors)
{
  <span>Computer says no... :(</span>
  <span>@this.GamesState.Value.CurrentErrorMessage</span>
}
else if (this.GamesState.Value.Games != null)
{
  <h2>Games</h2>

  <table>
    <tr>
      <th></th>
      <th>Red</th>
      <th>Black</th>
    </tr>
    @foreach (var game in GamesState.Value.Games)
    {
      <tr>
        <td><a href="/games/@game.Id">@game.Id</a></td>
        <td>@game.RedPlayer.Name</td>
        <td>@game.BlackPlayer.Name</td>
      </tr>
    }
  </table>
}
